<div *ngIf="!degel" style="margin-left:47%; ">
  <div style="height: 400px; background-color: white;"></div>
  <div class="spinner-grow text-primary" role="status">
    <span class="sr-only">Loading...</span>
  </div>
  <div class="spinner-grow text-secondary" role="status">
    <span class="sr-only">Loading...</span>
  </div>

  <div class="spinner-grow text-danger" role="status">
    <span class="sr-only">Loading...</span>
  </div>

  <div class="spinner-grow text-info" role="status">
    <span class="sr-only">Loading...</span>
  </div>

</div>
<div *ngIf="degel">


  <div style=" width: 100%;">
    <div style="height: 100; background-color: gray;"></div>
    <div style="width: 1100px; margin:auto; ">
      <button style="width: 220px; margin-left: 20px; margin-top: 30px; " type="button" mdbBtn color="default"
        class="relative waves-light" (click)="showLead()" mdbWavesEffect>הצג לידים</button>
      <button style="width: 220px; margin-left: 20px; margin-top: 30px; " type="button" mdbBtn color="default"
        class="relative waves-light" (click)="showAll()" mdbWavesEffect>הצג את כל מספרי הטלפון</button>
      <button style="width: 220px; margin-left: 20px; margin-top: 30px; " type="button" mdbBtn color="default"
        class="relative waves-light" (click)="showCom()" mdbWavesEffect>הצג מספרים משיחות נכנסות</button>
      <button style="width: 280px; margin-left: 60px; margin-top: 30px; " type="button" mdbBtn color="default"
        class="relative waves-light" (click)="showPhoneT()" mdbWavesEffect>הצג מספרים שנוצרו על ידי טלפניות</button>

    </div>



    <div style="float: right; margin-top: 60px;">
      <div class="input-group input-group-sm mb-3"
        style="width: 250px;float: right; margin-right: 60px;  box-sizing: border-box;">
        <div class="input-group-prepend">
          <span class="input-group-text" id="inputGroup-sizing-sm">חפש לפי שם</span>
        </div>
        <input type="text" [(ngModel)]="nameforSearch" class="form-control" aria-label="Sizing example input"
          aria-describedby="inputGroup-sizing-sm">

        <button (click)="changeValue()">חפש</button>

      </div>


      <div class="input-group input-group-sm mb-3"
        style="width: 250px ;box-sizing: border-box; float: left; margin-right: 20px;">
        <div class="input-group-prepend">
          <span class="input-group-text" id="inputGroup-sizing-sm">חפש לפי מספר ליד</span>
        </div>
        <input [(ngModel)]="id1" type="text" class="form-control" aria-label="Sizing example input"
          aria-describedby="inputGroup-sizing-sm">
        <button (click)="changeValue1()">חפש</button>

      </div>

    </div>
    <div style="float: left;">
      <button style="width: 220px; margin-left: 200px; margin-top: 50px; " type="button" mdbBtn color="default"
        class="relative waves-light" (click)="updateList()" mdbWavesEffect>אפס נתוני חיפוש</button>
    </div>


    <table mdbTable style="direction: rtl; text-align: right;">
      <thead class="unique-color-dark white-text">
        <tr>
          <th>מספר ליד</th>
          <th>שם פרטי</th>
          <th>שם משפחה</th>
          <th>מספר טלפון 1</th>
          <th> מספר טלפון 2</th>
          <th>מייל</th>
          <th>סטטוס</th>
          <th>סוג</th>
          <th>תאריך יצירה</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr color="primary" class="waves-light" data-toggle="modal" data-target="#basicExample" mdbWavesEffect
          mdbTableCol *ngFor="let item of phoneNumberList1">
          <th scope="row">{{item.id}}</th>
          <td>{{item.firstName}}</td>
          <td>{{item.lastName}}</td>
          <td>{{item.phone}}</td>
          <td>{{item.phone2}}</td>
          <td>{{item.mail}}</td>
          <td>{{item.status|showStatusPhone:item.status}}</td>
          <td>{{item.type|showTypePhone:item.type}}</td>
          <td>{{item.creationDate|date:'dd/MM/yyyy'}}</td>
          <td>
            <span class="table-remove">
              <button (click)="showw(item)" (click)=frame.show() type="button" mdbBtn color="default" rounded="true"
                size="sm" class="my-0">הצג פרטי תורם
              </button>
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>




  <div mdbModal #frame="mdbModal" class="modal fade" id="frameModalTop" tabindex="-1" role="dialog"
    aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fluid modal-side modal-top-left" role="document">
      <div class="modal-content" style="width: 850px; margin: auto;">
        <!--Header-->

        <!--Body-->
        <div class="modal-body">
          <div style="height: auto  ; width: 800px; border-style: groove;border-radius: 15px; ">
            <div style="border-bottom: #37474F;border-bottom-style: solid; ">

              <h2 style="direction: rtl;float: right; color: #37474F;">
                <mdb-icon fas icon="user-alt"></mdb-icon> פרטי איש קשר -{{phone_namber.firstName}}
                {{phone_namber.lastName}}
              </h2>
              <h3 style="direction: ltr; color: #37474F; ">telinfo</h3>
            </div>
            <div class="btn-group" role="group" aria-label="Basic example">

              <div style="text-align: center; margin-top:50px;">
                <div style="float: left; margin-right: 50px; margin-left:200px;">
                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">תעודת זהות</span>
                    </div>
                    <input #tz11="ngModel" [(ngModel)]="update_phoneNumber.tz" type="text" class="form-control"
                      aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm"
                      placeholder="{{phone_namber.tz}}" maxlength="10" pattern="[0-9]*">
                    <div *ngIf="tz11.invalid && (tz11.dirty || tz11.touched) ">
                      <div class="alert-danger" *ngIf="tz11.errors.pattern">אנא הזן מספר זהות תקין! </div>
                    </div>
                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">*שם פרטי</span>
                    </div>
                    <input #Fname="ngModel" [(ngModel)]="update_phoneNumber.firstName"
                      placeholder="{{phone_namber.firstName}}" type="text" class="form-control"
                      aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" required
                      pattern="[א-תa-z]*">
                    <div *ngIf="Fname.invalid && (Fname.dirty || Fname.touched) ">
                      <div class="alert-danger" *ngIf="Fname.errors.pattern">שדה זה יכול להכיל אותיות בלבד</div>
                      <div class="alert-danger" *ngIf="Fname.errors.required">*</div>
                    </div>
                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">שם משפחה</span>
                    </div>
                    <input #Lname="ngModel" [(ngModel)]="update_phoneNumber.lastName"
                      placeholder="{{phone_namber.lastName}}" type="text" class="form-control"
                      aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" pattern="[א-תa-z]*">
                    <div *ngIf="Lname.invalid && (Lname.dirty || Lname.touched) ">
                      <div class="alert-danger" *ngIf="Lname.errors.pattern">שדה זה יכול להכיל אותיות בלבד</div>
                    </div>

                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">כתובת</span>
                    </div>
                    <input #adress1="ngModel" [(ngModel)]="update_phoneNumber.address"
                      placeholder="{{phone_namber.address}}" type="text" class="form-control"
                      aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" pattern="[א-תa-z0-9]*">
                    <div *ngIf="adress1.invalid && (adress1.dirty || adress1.touched) ">
                      <div class="alert-danger" *ngIf="adress1.errors.pattern">שדה זה יכול להכיל אותיות ומספרים בלבד
                      </div>
                    </div>
                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">עיר</span>
                    </div>
                    <input #city1="ngModel" [(ngModel)]="update_phoneNumber.city" placeholder="{{phone_namber.city}}"
                      type="text" class="form-control" aria-label="Sizing example input"
                      aria-describedby="inputGroup-sizing-sm" pattern="[א-תa-z]*">
                    <div *ngIf="city1.invalid && (city1.dirty || city1.touched) ">
                      <div class="alert-danger" *ngIf="city1.errors.pattern">שדה זה יכול להכיל אותיות בלבד</div>
                    </div>
                  </div>
                  <!-- לשנות את השדה למיקוד -->
                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">מיקוד</span>
                    </div>
                    <input #mikud="ngModel" [(ngModel)]="update_phoneNumber.address" type="text" class="form-control"
                      aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" pattern="[0-9]*">
                    <div *ngIf="mikud.invalid && (mikud.dirty || mikud.touched) ">
                      <div class="alert-danger" *ngIf="mikud.errors.pattern">השדה יכול להכיל מספרים בלבד </div>
                    </div>
                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">מייל</span>
                    </div>
                    <input #mail1="ngModel" [(ngModel)]="update_phoneNumber.mail" placeholder="{{phone_namber.mail}}"
                      type="text" class="form-control" aria-label="Sizing example input"
                      aria-describedby="inputGroup-sizing-sm" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$">
                    <div *ngIf="mail1.invalid && (mail1.dirty || mail1.touched) ">
                      <div class="alert-danger" *ngIf="mail1.errors.pattern">אנא הזן כתובת מייל תקינה! </div>
                    </div>
                  </div>

                </div>

                <div class="input-group input-group-sm mb-3" style="width: 200px;">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroup-sizing-sm">תאריך היווצרות</span>
                  </div>
                  <p class="form-control" mdbInput>{{phone_namber.creationDate|date:'dd/MM/yyyy'}}</p>
                </div>

                <div style=" margin-left:50px;">
                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">טל 1</span>
                    </div>

                    <input #phone11="ngModel" [(ngModel)]="update_phoneNumber.phone"
                      placeholder="{{phone_namber.phone}}" type="text" required class="form-control"
                      aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" maxlength="10"
                      pattern="[0-9]*">
                    <div *ngIf="phone11.invalid && (phone11.dirty || phone11.touched) ">
                      <div class="alert-danger" *ngIf="phone11.errors.pattern">אנא הזן מספר טלפון תקין! </div>
                      <div class="alert-danger" *ngIf="phone11.errors.required">שדה חובה</div>
                    </div>

                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">טל 2</span>
                    </div>
                    <input #phone22="ngModel" [(ngModel)]="update_phoneNumber.phone2"
                      placeholder="{{phone_namber.phone2}}" type="text" class="form-control"
                      aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" maxlength="10"
                      pattern="[0-9]*">
                    <div *ngIf="phone22.invalid && (phone22.dirty || phone22.touched) ">
                      <div class="alert-danger" *ngIf="phone22.errors.pattern">אנא הזן מספר טלפון תקין! </div>
                    </div>
                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">מקום עבודה </span>
                    </div>

                    <input #placeWorking="ngModel" [(ngModel)]="update_phoneNumber.placeWorking"
                      placeholder="{{phone_namber.placeWorking}}" type="text" class="form-control"
                      aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">

                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">טלפנית </span>
                    </div>
                    <p class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
                    </p>
                  </div>


                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">סוג</span>
                    </div>
                    <p class="form-control" mdbInput>מהטלפנית</p>
                  </div>

                  <div class="input-group input-group-sm mb-3" style="width: 200px;">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="inputGroup-sizing-sm">סטטוס</span>
                    </div>
                    <p class="form-control" mdbInput>לא טופל</p>
                  </div>

                  <div class="modal-footer" style="width: 500px; margin-left: 100px; ">
                    <button style="width: 180px; margin: auto; " type="button" mdbBtn color="primary"
                      class="relative waves-light" (click)="saveChangForLead()" mdbWavesEffect> שמור שינויים</button>
                    <button style="width: 180px; margin: auto; margin-right: 20px; " type="button" mdbBtn
                      color="primary" class="relative waves-light" (click)="clo()" (click)="frame.hide()"
                      mdbWavesEffect> סגור</button>
                  </div>
                </div>

              </div>

            </div>

          </div>
          <!--Footer-->
        </div>
      </div>
    </div>